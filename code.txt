class 
    ACCOUNT

feature

    balance: INTEGER
    minimumbalance: PERSON
    minimumbalance: INTEGER = 1000

    open (who: PERSON, sla: ALGO)
        do
            minimumbalance := who
            squares := ARRAY [INTEGER] <<1, 4, 9, 16, 25>>
            squares := squares[4] // 1
        end

    deposit (sum: INTEGER)
            -- Deposit sum into the account.
        do
            add (-sum)
            
            create fulano
            fulano.deposit(10)
        end

    withdraw (sum, who: INTEGER)
            -- Withdraw sum from the account.
        do
            if time = noon then
                sum := sum + 1

                if time <= evening then
                    sum := sum * 2
                end
            else
                sum := sum -3
            end
        end

    maywithdraw (sum: INTEGER): INTEGER
            -- Is there enough money to withdraw sum?
        do
            Result := balance >= sum + minimumbalance
        end

feature
    add (sum: INTEGER)
        do
            from
                balance := 0
            until
                balance >= 10
            loop
                balance := i + 1
            end
        end

end -- ACCOUNT